# å•å‘é“¾è¡¨

- æ•°ç»„å„å…ƒç´ æ˜¯è¿ç»­å­˜å‚¨çš„ï¼Œé“¾è¡¨ä¸æ˜¯

## 1. ListNode

```java
public class ListNode {
    int val;
    ListNode next;

    public ListNode(int val) {
        this.val = val;
    }

    public ListNode(int val, ListNode next) {
        this.val = val;
        this.next = next;
    }
}
```

```java
public interface SingleListInter {
    void addFirst(int val);

    void addLast(int val);

    void loop(Consumer<Integer> consumer);

    int get(int index);

    void remove(int index);

    void insert(int index, int val);
}
```

## 2. ä¸å¸¦å“¨å…µ

![image-20231123132950873](https://erick-typora-image.oss-cn-shanghai.aliyuncs.com/img/image-20231123132950873.png)

```java
package com.citi.node;

import java.util.function.Consumer;

public class SingleListNoDummy implements SingleListInter {
    ListNode head = null;

    @Override
    public void addFirst(int val) {
        head = new ListNode(val, head);
    }

    @Override
    public void addLast(int val) {
        ListNode last = getLast();
        if (last == null) {
            addFirst(val);
            return;
        }
        last.next = new ListNode(val);
    }

    private ListNode getLast() {
        if (head == null) {
            return null;
        } // è¦å•ç‹¬è€ƒè™‘headä¸ºç©ºçš„æƒ…å†µ
        ListNode p = head;
        while (p.next != null) {
            p = p.next;
        }
        return p;
    }

    @Override
    public void loop(Consumer<Integer> consumer) {
        ListNode p = head;
        while (p != null) {
            consumer.accept(p.val);
            p = p.next;
        }
    }

    @Override
    public int get(int index) {
        ListNode node = getByIndex(index);
        if (node == null) {
            throw new IllegalArgumentException("Wrong Index");
        }
        return node.val;
    }

    private ListNode getByIndex(int index) {
        int curIndex = 0;
        ListNode p = head;
        while (p != null) {
            if (index == curIndex) {
                return p;
            }
            curIndex++;
            p = p.next;
        }

        return null;
    }

    @Override
    public void remove(int index) {

    }

    /*æ‰¾ä¸Šä¸€ä¸ªç»“ç‚¹*/
    @Override
    public void insert(int index, int val) {
        if (index == 0) {
            addFirst(val);
            return;
        }
        ListNode prev = getByIndex(index - 1);
        if (prev == null) {
            throw new IllegalArgumentException("Wrong Index");
        }
        prev.next = new ListNode(val, prev.next);
    }
}
```

## 3. å“¨å…µå®ç°

- dummyå…ƒç´ å……å½“å“¨å…µèŠ‚ç‚¹ï¼Œæ–¹ä¾¿é“¾è¡¨ä¸ºç©ºçš„æƒ…å†µ
- æœ‰äº›åœºæ™¯æŒ‡é’ˆå¯ä»¥ä»sentinelç§»åŠ¨ï¼Œæœ‰äº›å¯ä»¥ä»sentinel.nextç§»åŠ¨

![image-20231004182312899](https://erick-typora-image.oss-cn-shanghai.aliyuncs.com/img/image-20231004182312899.png)

```java
public class SingleList implements SingleListInter {
    ListNode sentinel = new ListNode(-888, null);

    @Override
    public void addFirst(int val) {
        sentinel.next = new ListNode(val, sentinel.next);
    }

    @Override
    public void addLast(int val) {
        ListNode last = findLastNode();
        last.next = new ListNode(val);
    }

   // å“¨å…µå¯èƒ½ä½œä¸ºlastNode
    private ListNode findLastNode() {
        ListNode p = sentinel;
        while (p.next != null) {
            p = p.next;
        }
        return p;
    }

    @Override
    public void loop(Consumer<Integer> consumer) {
        ListNode p = sentinel.next;
        while (p != null) {
            consumer.accept(p.val);
            p = p.next;
        }
    }

    @Override
    public int get(int index) {
        ListNode result = getNode(index);
        if (result == null) {
            throw new IllegalArgumentException("Wrong Index");
        }
        return result.val;
    }

    /*-1èƒ½å¤Ÿæ‹¿åˆ°å“¨å…µèŠ‚ç‚¹*/
    private ListNode getNode(int index) {
        ListNode p = sentinel;
        int idx = -1;
        while (p != null) {
            if (index == idx) {
                return p;
            }
            p = p.next;
            idx++;
        }
        return null;
    }

    @Override
    public void remove(int index) {
        ListNode preNode = getNode(index - 1);
        ListNode removedNode = getNode(index);
        if (preNode == null || removedNode == null) {
            throw new IllegalArgumentException("Wrong Index");
        }
        preNode.next = removedNode.next;
    }

    @Override
    public void insert(int index, int val) {
        ListNode preNode = getNode(index - 1);
        if (preNode == null) {
            throw new IllegalArgumentException("Wrong Index");
        }
        ListNode inserted = new ListNode(val, preNode.next);
        preNode.next = inserted;
    }
}
```

## 4. æ€§èƒ½

```bash
# æ—¶é—´å¤æ‚åº¦
# éšæœºè®¿é—®
- æ ¹æ®indexæŸ¥æ‰¾  O(n)

# æ’å…¥
- æ’å…¥æœ¬èº«çš„æ˜¯ O(1),  ä½†æ˜¯é¦–å…ˆè¦æ ¹æ®indexéå†æ‰¾åˆ°æ’å…¥ä½ç½®ï¼Œä¹Ÿå°±æ˜¯O(n)
- æ€»ä½“å°±æ˜¯O(n)
    # èµ·å§‹ä½ç½®ï¼šO(1)
    # ç»“æŸä¸ºæ­¢ï¼šå¦‚æœå·²çŸ¥å°¾ç»“ç‚¹ï¼Œæ˜¯O(1), å¦åˆ™å°±æ˜¯O(n)
    # ä¸­é—´ä½ç½®ï¼š O(n)+O(1)=O(n)
```



# åŒå‘é“¾è¡¨

- å¸¦å¤´å“¨å…µå’Œå°¾å“¨å…µçš„åŒå‘é“¾è¡¨

![image-20231004191925877](https://erick-typora-image.oss-cn-shanghai.aliyuncs.com/img/image-20231004191925877.png)

## 1. ListNode

- ä¸»è¦å¥½å¤„ï¼šå¯ä»¥é€†åºéå†ï¼Œå¿«é€Ÿæ‰¾åˆ°æœ€åçš„ç»“ç‚¹

```java
class Node {
    int val;
    Node prev;
    Node next;

    public Node(int val, Node prev, Node next) {
        this.val = val;
        this.prev = prev;
        this.next = next;
    }
}
```

## 2. åŒå‘é“¾è¡¨

```java
class DoublyLinkedList {
    Node head;
    Node tail;

    public DoublyLinkedList() {
        head = new Node(Integer.MIN_VALUE, null, null);
        tail = new Node(Integer.MIN_VALUE, null, null);
        head.next = tail;
        tail.prev = head;
    }

    public void addFirst(int val) {
        insert(0, val);
    }

    public void insert(int index, int val) {
        Node prev = getNode(index - 1);
        if (prev == null) {
            throw new IllegalArgumentException("Illegal Index");
        }

        Node next = prev.next;

        /*æ–°èŠ‚ç‚¹*/
        Node inserted = new Node(val, prev, next);
        prev.next = inserted;
        next.prev = inserted;
    }

    public void remove(int index) {
        Node prev = getNode(index - 1);
        if (prev == null) {
            throw new IllegalArgumentException("Illegal Index");
        }
        Node removed = prev.next;
        if (removed == tail) {
            throw new IllegalArgumentException("Illegal Index");
        }

        Node next = removed.next;
        prev.next = next;
        next.prev = prev;
    }

    public void addLast(int val) {
        Node prev = tail.prev;
        Node inserted = new Node(val, null, null);
        prev.next = inserted;
        inserted.prev = prev;

        inserted.next = tail;
        tail.prev = inserted;
    }

    public void removeLast() {
        Node removed = tail.prev;
        if (removed == head) {
            throw new IllegalArgumentException("Illegal Index");
        }

        Node prev = removed.prev;
        prev.next = tail;
        tail.prev = prev;
    }

    private Node getNode(int index) {
        int currentIndex = -2; // headèŠ‚ç‚¹çš„ç´¢å¼•æ˜¯-1
        Node pointer = head;
        while (pointer != tail) {
            currentIndex++;
            if (index == currentIndex) {
                return pointer;
            }
            pointer = pointer.next;
        }
        return null;
    }
}
```

## 3. ç¯å½¢é“¾è¡¨

- åªæœ‰ä¸€ä¸ªå¤´å“¨å…µ

![image-20231005150947772](https://erick-typora-image.oss-cn-shanghai.aliyuncs.com/img/image-20231005150947772.png)

```java
class Node{
    int val;
    Node prev;
    Node next;

    public Node(int val, Node prev, Node next) {
        this.val = val;
        this.prev = prev;
        this.next = next;
    }
}
```

```java
class CrossDoublyLinkedList {
    Node sentinel;

    /*ä¸€å¼€å§‹çš„æ—¶å€™ï¼Œå“¨å…µç»“ç‚¹çš„prevå’Œnextéƒ½æŒ‡å‘æœ¬èº«è‡ªå·±*/
    public CrossDoublyLinkedList() {
        sentinel = new Node(Integer.MIN_VALUE, null, null);
        sentinel.prev = sentinel;
        sentinel.next = sentinel;
    }

    public void addFirst(int val) {
        Node prev = sentinel;
        Node next = sentinel.next;
        Node inserted = new Node(val, null, null);
        prev.next = inserted;
        inserted.prev = prev;
        inserted.next = next;
        next.prev = inserted;
    }

    public void addLast(int val) {
        Node last = sentinel.prev;
        Node inserted = new Node(val, null, null);

        inserted.next = sentinel;
        sentinel.prev = inserted;
        last.next = inserted;
        inserted.prev = last;
    }

    public void removeFirst() {
        Node removed = sentinel.next;
        if (removed == sentinel) {
            throw new IllegalArgumentException("Illegal Index");
        }

        Node next = removed.next;
        sentinel.next = next;
        next.prev = sentinel;
    }

    public void removeLast() {
        Node last = sentinel.prev;
        if (last == sentinel) {
            throw new IllegalArgumentException("Illegal Index");
        }

        Node prev = last.prev;
        prev.next = sentinel;
        sentinel.prev = prev;
    }

    public void removeByVal(int val) {
        Node removed = findByVal(val);
        if (removed == null) {
            throw new IllegalArgumentException("No Target Found");
        }

        Node prev = removed.prev;
        Node next = removed.next;
        prev.next = next;
        next.prev = prev;
    }

    private Node findByVal(int val) {
        Node pointer = sentinel.next;
        while (pointer != sentinel) {
            if (val == pointer.val) {
                return pointer;
            }
            pointer = pointer.next;
        }
        return null;
    }

}
```

# LeetCode

- æ‰€æœ‰é¢˜ç›®ï¼Œéƒ½å¸¦ä¸Šdummyç»“ç‚¹

## 0. è®¾è®¡

### ğŸ˜ æ–¹æ³•ä¼ å‚

#### ä¸æ”¹å˜

- è¿™é‡Œp1å’Œp2ï¼Œp2çš„æ”¹åŠ¨ï¼Œä¸ä¼šå½±å“p1ï¼Œç›¸å½“äºæŒ‡é’ˆçš„å¼•ç”¨å¤åˆ¶

```java
public void method1() {
    ListNode p1 = new ListNode(3,new ListNode(5));
    method2(p1);
}

public void method2(ListNode p2) {
    p2 = p2.next;
}
```

#### æ”¹å˜

- æ–¹æ³•1çš„p1å’Œæ–¹æ³•2çš„p2ï¼Œéƒ½æ˜¯ä¸¤ä¸ªå¼•ç”¨ï¼ŒæŒ‡å‘åŒä¸€ä¸ªç»“ç‚¹

```java
public void method1() {
    ListNode p1 = new ListNode(3, new ListNode(5));
    method2(p1);
}

public void method2(ListNode p2) {
    p2.next = null;
}
```

### ğŸ˜[707. è®¾è®¡é“¾è¡¨](https://leetcode.cn/problems/design-linked-list/)

#### å•é“¾è¡¨

```java
class MyLinkedList {

    static class ListNode {
        int val;
        ListNode next;

        public ListNode(int val) {
            this.val = val;
        }

        public ListNode(int val, ListNode next) {
            this.val = val;
            this.next = next;
        }
    }

    ListNode sentinel = new ListNode(-999);

    public MyLinkedList() {
    }

    public int get(int index) {
        ListNode node = getNodeByIndex(index);
        if (node != null) {
            return node.val;
        } else {
            return -1;
        }
    }

    public void addAtHead(int val) {
        sentinel.next = new ListNode(val, sentinel.next);
    }

    public void addAtTail(int val) {
        ListNode p = sentinel;
        while (p.next != null) {
            p = p.next;
        }
        p.next = new ListNode(val);
    }

    public void addAtIndex(int index, int val) {
        ListNode prev = getNodeByIndex(index - 1);
        if (prev != null) {
            prev.next = new ListNode(val, prev.next);
        }
    }

    public void deleteAtIndex(int index) {
        ListNode prev = getNodeByIndex(index - 1);
        ListNode deleted = getNodeByIndex(index);

        if (prev != null && deleted != null) {
            prev.next = deleted.next;
        }
    }

    /*è¿”å› -1 ï½ length-1, sentinelçš„ç´¢å¼•æ˜¯-1*/
    private ListNode getNodeByIndex(int index) {
        ListNode p = sentinel;
        int idx = -1;
        while (p != null) {
            if (index == idx) {
                return p;
            }
            p = p.next;
            idx++;
        }
        return null;
    }
}
```

#### åŒé“¾è¡¨TODO

```java

```



## 1. æŸ¥æ‰¾

### âœ…[876. é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹](https://leetcode.cn/problems/middle-of-the-linked-list/)

#### å¿«æ…¢æŒ‡é’ˆ

- æ³¨æ„å¥‡å¶ç»“ç‚¹ä¸ªæ•°é—®é¢˜

![image-20240106164458470](https://erick-typora-image.oss-cn-shanghai.aliyuncs.com/img/image-20240106164458470.png)

```java
public ListNode middleNode(ListNode head) {
    ListNode sentinel = new ListNode(-999, head);
    ListNode fast = sentinel;
    ListNode slow = sentinel;
    while (fast != null) {
        slow = slow.next;
        fast = fast.next;
        if (fast != null) {
            fast = fast.next;
        }
    }
    return slow;
}
```

###  âœ… [å€’æ•°ç¬¬Kä¸ª](https://leetcode.cn/problems/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof/)

#### å¿«æ…¢æŒ‡é’ˆ

![image-20240105102635627](https://erick-typora-image.oss-cn-shanghai.aliyuncs.com/img/image-20240105102635627.png)

```java
public ListNode trainingPlan(ListNode head, int cnt) {
    ListNode sentinel = new ListNode(-999, head);
    ListNode fast = sentinel;
    ListNode slow = sentinel;
    for (int i = 0; i < cnt; i++) {
        fast = fast.next;
    }
    while (fast != null) {
        slow = slow.next;
        fast = fast.next;
    }
    return slow;
}
```

### ğŸ˜ [61. æ—‹è½¬é“¾è¡¨](https://leetcode.cn/problems/rotate-list/)

- å¯ä»¥è½¬æ¢ä¸ºå¿«æ…¢æŒ‡é’ˆæ±‚å€’æ•°ç¬¬Kä¸ªå…ƒç´ 

![image-20240106100748127](https://erick-typora-image.oss-cn-shanghai.aliyuncs.com/img/image-20240106100748127.png)

```java
public ListNode rotateRight(ListNode head, int k) {
    if (head == null || head.next == null) {
        return head;
    }
    int length = getLength(head);
    k = k % length;
    if (k == 0) {
        return head;
    }
    ListNode fast = head;
    ListNode slow = head;

    for (int i = 0; i < k; i++) {
        fast = fast.next;
    }

    while (fast.next != null) {
        slow = slow.next;
        fast = fast.next;
    }

    ListNode newHead = slow.next;
    slow.next = null;
    fast.next = head;
    return newHead;
}

private int getLength(ListNode head) {
    int length = 0;
    while (head != null) {
        length++;
        head = head.next;
    }
    return length;
}
```

## ğŸ˜[1721. äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹](https://leetcode.cn/problems/swapping-nodes-in-a-linked-list/)

### å¿«æ…¢æŒ‡é’ˆ

- ä¸€è¶Ÿéå†æ‰¾åˆ°å‰kå’Œåk
- ç›´æ¥äº¤æ¢å€¼å³å¯

```java
public ListNode swapNodes(ListNode head, int k) {
    if (head == null) {
        return null;
    }

    ListNode sentinel = new ListNode(-999, head);
    ListNode fast = sentinel;
    ListNode slow = sentinel;
    ListNode headK;
    ListNode tailK;

    for (int i = 0; i < k; i++) {
        fast = fast.next;
    }
    headK = fast;

    while (fast != null) {
        slow = slow.next;
        fast = fast.next;
    }
    tailK = slow;

    int temp = headK.val;
    headK.val = tailK.val;
    tailK.val = temp;
    return sentinel.next;
}
```

## 2. åˆ é™¤

### ğŸ˜[19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹](https://leetcode.cn/problems/remove-nth-node-from-end-of-list/)

#### å¿«æ…¢æŒ‡é’ˆ

![image-20231008115435110](https://erick-typora-image.oss-cn-shanghai.aliyuncs.com/img/image-20231008115435110.png)

```java
public ListNode removeNthFromEnd(ListNode head, int n) {
    ListNode sentinel = new ListNode(-999, head);
    ListNode fast = sentinel;
    ListNode slow = sentinel;
    for (int i = 0; i < n; i++) {
        fast = fast.next;
    }
    while (fast.next != null) {
        slow = slow.next;
        fast = fast.next;
    }
    slow.next = slow.next.next;
    return sentinel.next;
}
```

### ğŸ˜[2095. åˆ é™¤é“¾è¡¨çš„ä¸­é—´èŠ‚ç‚¹](https://leetcode.cn/problems/delete-the-middle-node-of-a-linked-list/)

#### å¿«æ…¢æŒ‡é’ˆ

- å¿«æ…¢æŒ‡é’ˆï¼Œæ³¨æ„å¸¦å“¨å…µå’Œä¸å¸¦å“¨å…µçš„åˆ¤æ–­
- æ³¨æ„å¶æ•°å’Œå¥‡æ•°ç»“ç‚¹çš„åŒºåˆ«

![image-20240105100538915](https://erick-typora-image.oss-cn-shanghai.aliyuncs.com/img/image-20240105100538915.png)

```java
public ListNode deleteMiddle(ListNode head) {
    ListNode sentinel = new ListNode(-999, head);
    ListNode prev = sentinel;
    ListNode fast = sentinel;
    ListNode slow = sentinel;

    while (fast != null) {
        prev = slow;
        slow = slow.next;
        fast = fast.next;
        if (fast != null) {
            fast = fast.next;
        }
    }
    prev.next = prev.next.next;
    return sentinel.next;
}
```

### âœ…[203. ByValue](https://leetcode.cn/problems/remove-linked-list-elements/)

- ç§»é™¤é“¾è¡¨ä¸­æ‰€æœ‰val=æŸä¸ªå€¼çš„ç»“ç‚¹

#### é€’å½’

- é€’å½’ä¸è¦åŠ dummyç»“ç‚¹

```java
public ListNode removeElements(ListNode head, int val) {
    if (head == null) {
        return null;
    }

    if (head.val == val) {
        return removeElements(head.next, val);
    } else {
        head.next = removeElements(head.next, val);
        return head;
    }
}
```

#### è¿­ä»£

- åˆ¤æ–­çš„æ—¶å€™ï¼Œæ˜¯åˆ¤æ–­å½“å‰èŠ‚ç‚¹å€¼

![image-20240105115513796](https://erick-typora-image.oss-cn-shanghai.aliyuncs.com/img/image-20240105115513796.png)

```java
public ListNode removeElements(ListNode head, int val) {
    ListNode sentinel = new ListNode(-999, head);
    ListNode cur = sentinel.next;
    ListNode prev = sentinel;

    while (cur != null) {
        if (cur.val != val) {
            prev = cur;
        } else {
            prev.next = cur.next;
        }
        cur = cur.next;
    }

    return sentinel.next;
}
```

### âœ…[83. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ ](https://leetcode.cn/problems/remove-duplicates-from-sorted-list/)

- é‡å¤å…ƒç´ ä¿ç•™ä¸€ä¸ª

#### é€’å½’

- é‡å¤å…ƒç´ ä¿ç•™çš„æ˜¯ç¬¬ä¸€ä¸ª

```bash
# æ€è·¯
*--1--3--3--3---4
- ä»å¤´å¼€å§‹å¤„ç†
- å¦‚æœheadå’Œä¸‹ä¸€ä¸ªé‡å¤ï¼Œåˆ™è¿”å›head.nextçš„é€’å½’å¤„ç†ç»“æœ
- å¦‚æœheadå’Œä¸‹ä¸€ä¸ªä¸é‡å¤ï¼Œåˆ™head.extæŒ‡å‘ä¸‹ä¸€ä¸ªçš„é€’å½’å¤„ç†ç»“æœ
```

```java
public ListNode deleteDuplicates(ListNode head) {
    if (head == null) {
        return null;
    }

    if (head.next == null) {
        return head;
    }

    if (head.val == head.next.val) {
        return deleteDuplicates(head.next);
    } else {
        head.next = deleteDuplicates(head.next);
        return head;
    }
}
```

#### è¿­ä»£

- ä¿ç•™çš„æ˜¯é‡å¤èŠ‚ç‚¹çš„ç¬¬ä¸€ä¸ª

![image-20240105125403012](https://erick-typora-image.oss-cn-shanghai.aliyuncs.com/img/image-20240105125403012.png)

```java
public ListNode deleteDuplicates(ListNode head) {
    ListNode sentinel = new ListNode(-999, head);
    ListNode prev = sentinel;
    ListNode cur = sentinel.next;
    int base = sentinel.val;
    while (cur != null) {
        if (cur.val != base) {
            base = cur.val;
            prev = cur;
        } else {
            prev.next = cur.next;
        }
        cur = cur.next;
    }
    return sentinel.next;
}
```

### ğŸ˜[82. åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  II](https://leetcode.cn/problems/remove-duplicates-from-sorted-list-ii/)

- é‡å¤å…ƒç´ ï¼Œå…¨éƒ¨åˆ é™¤

#### é€’å½’

- æ‰¾ä¸‹ä¸€ä¸ªä¸é‡å¤çš„å…ƒç´ å¹¶è¿”å›

![image-20231127115216911](https://erick-typora-image.oss-cn-shanghai.aliyuncs.com/img/image-20231127115216911.png)

```bash
# å¦‚æœå½“å‰èŠ‚ç‚¹å’Œä¸‹ä¸€ä¸ªèŠ‚ç‚¹å€¼ç›¸åŒï¼Œ
- åˆ™ä¸€ç›´æ‰¾ä¸€ä¸ªä¸åŒçš„èŠ‚ç‚¹ï¼Œä»¥ä¸åŒçš„é‚£ä¸ªèŠ‚ç‚¹ä¸ºç»“æœï¼Œç»§ç»­é€’å½’
# å¦‚æœä¸åŒ
- è¿”å›èŠ‚ç‚¹æœ¬èº«ï¼Œå¹¶æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„é€’å½’ç»“æœ   
```

```java
public ListNode deleteDuplicates(ListNode head) {
    if (head == null) {
        return null;
    }

    if (head.next == null) {
        return head;
    }

    if (head.val != head.next.val) {
        head.next = deleteDuplicates(head.next);
        return head;
    } else {
        while (head.next != null && head.val == head.next.val) {
            head = head.next;
        }
        return deleteDuplicates(head.next);
    }
}
```

#### è¿­ä»£TODO

```java

```

## 3. åè½¬

### âœ…[206. åè½¬é“¾è¡¨](https://leetcode.cn/problems/reverse-linked-list/)

#### è¿­ä»£+å†’æ³¡ - éå¸¸é‡è¦

![image-20240107175903745](https://erick-typora-image.oss-cn-shanghai.aliyuncs.com/img/image-20240107175903745.png)

```java
public ListNode reverseList(ListNode head) {
    if (head == null || head.next == null) {
        return head;
    }

    ListNode sentinel = new ListNode(-999, head);
    ListNode cur = head;

    while (cur.next != null) {
        ListNode removed = cur.next;
        cur.next = removed.next; // åˆ é™¤
        removed.next = sentinel.next;
        sentinel.next = removed;
    }
    return sentinel.next;
}
```

#### é€’å½’

```java
public ListNode reverseList(ListNode head) {
    if (head == null || head.next == null) {
        return head;
    }

    ListNode left = reverseList(head.next); // leftä»£è¡¨å¤´æŒ‡é’ˆ
    head.next.next = head; // é€†å‘æŒ‡é’ˆ   1--> 2<--3<--4<--5
    head.next = null; // æ–­ç¯
    return left;
}
```

#### è¿­ä»£+æ–°é“¾è¡¨å€¼+å¤´æ’

- å–å‡ºæ—§é“¾è¡¨çš„æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ï¼Œå¤´æ’åˆ°æ–°é“¾è¡¨

```java
public ListNode reverseList(ListNode head) {
    ListNode sentinel = new ListNode(-999);
    while (head != null) {
        sentinel.next = new ListNode(head.val, sentinel.next);
        head = head.next;
    }
    return sentinel.next;
}
```

#### è¿­ä»£+æ–°é“¾è¡¨èŠ‚ç‚¹+å¤´æ’

- åŸæ¥é“¾è¡¨æ¯æ¬¡ç§»é™¤å¤´å…ƒç´ ï¼Œå¤´æ’åˆ°æ–°é“¾è¡¨
- æ“ä½œå®Œæˆåï¼Œæ—§é“¾è¡¨æ—§æ²¡æœ‰æ•°æ®äº†
- ä¸ä¼šåˆ›é€ æ–°çš„èŠ‚ç‚¹

```java
public ListNode reverseList(ListNode head) {
    ListNode sentinel = new ListNode(-999);
    while (head != null) {
        ListNode removed = head;
        head = head.next;

        removed.next = sentinel.next;
        sentinel.next = removed;
    }
    return sentinel.next;
}
```

### ğŸ˜[92. åè½¬é“¾è¡¨ II](https://leetcode.cn/problems/reverse-linked-list-ii/)

- ç´¢å¼•æ˜¯ä»1å¼€å§‹ï¼Œleftå’Œrightå¯èƒ½ç›¸åŒ

#### ä¸¤è¶Ÿéå† + åˆå¹¶

- ç¬¬ä¸€è¶Ÿéå†ï¼Œæ‰¾åˆ°è¦åè½¬é“¾è¡¨çš„éƒ¨åˆ†
- ç¬¬äºŒè¶Ÿéå†ï¼Œåè½¬è¦åè½¬çš„éƒ¨åˆ†
- åˆå¹¶ä¸‰éƒ¨åˆ†

![image-20240107112215120](https://erick-typora-image.oss-cn-shanghai.aliyuncs.com/img/image-20240107112215120.png)

```java
public ListNode reverseBetween(ListNode head, int left, int right) {
    if (left == right) {
        return head;
    }

    ListNode sentinel = new ListNode(-999, head);
    ListNode p = sentinel.next;

    ListNode firstTail = sentinel;
    ListNode secondHead = null;
    ListNode secondTail = null;
    ListNode thirdPartHead = null;

    /*åˆ†å‰²ä¸‰éƒ¨åˆ†*/
    int idx = 1;
    while (p != null) {
        if (idx == left - 1) {
            firstTail = p;
        } else if (left == idx) {
            secondHead = p;
        } else if (right == idx) {
            secondTail = p;
            thirdPartHead = p.next;
            break; // å°±ä¸ç”¨ç»§ç»­å‘ä¸‹æ‰¾äº†
        }
        p = p.next;
        idx++;
    }

    // æ–­å¼€å°¾å·´
    firstTail.next = null;
    secondTail.next = null;

    /*æ—‹è½¬åï¼Œå¤´å˜å°¾ï¼Œå°¾å˜å¤´*/
    ListNode reversedHead = reverse(secondHead);
    ListNode reversedTail = secondHead;
    /*åˆå¹¶ä¸‰éƒ¨åˆ†*/
    firstTail.next = reversedHead;
    reversedTail.next = thirdPartHead;
    return sentinel.next;
}

private ListNode reverse(ListNode head) {
    if (head == null || head.next == null) {
        return head;
    }
    ListNode left = reverse(head.next);
    head.next.next = head;
    head.next = null;
    return left;
}
```

#### ä¸€è¶Ÿéå† + å†’æ³¡

- è¿›é˜¶ç‰ˆæœ¬çš„åè½¬é“¾è¡¨

![image-20240107122536903](https://erick-typora-image.oss-cn-shanghai.aliyuncs.com/img/image-20240107122536903.png)

```java
public ListNode reverseBetween(ListNode head, int left, int right) {
    if (left == right) {
        return head;
    }

    ListNode sentinel = new ListNode(-999, head);
    ListNode p = sentinel.next;
    ListNode firstTail = sentinel;

    int idx = 1;
    while (p != null) {
        if (idx == right) {
            break;
        }

        if (idx < left - 1) {
            p = p.next;
        } else if (idx == left - 1) {
            firstTail = p;
            p = p.next;
        } else if (idx >= left && idx < right) {
            // å¼€å§‹å†’æ³¡åè½¬
            ListNode moved = p.next;
            p.next = p.next.next; // åˆ é™¤
            moved.next = firstTail.next;
            firstTail.next = moved;
        }
        idx++;
    }
    return sentinel.next;
}
```

### ğŸ˜ [24. ä¸¤ä¸¤äº¤æ¢é“¾è¡¨ä¸­çš„èŠ‚ç‚¹](https://leetcode.cn/problems/swap-nodes-in-pairs/)

#### é€’å½’

- å¤„ç†å‰ä¸¤ä¸ªç»“ç‚¹ï¼Œé€’å½’å¤„ç†å‰©ä¸‹çš„

```java
public ListNode swapPairs(ListNode head) {
    if (head == null || head.next == null) {
        return head;
    }

    ListNode first = head;
    ListNode second = first.next;

    ListNode leftOver = swapPairs(second.next);
    second.next = first;
    first.next = leftOver;
    return second;
}
```

#### å†’æ³¡åè½¬

```java

```



### ğŸ›³  [25. K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨](https://leetcode.cn/problems/reverse-nodes-in-k-group/)

- Kä¸ªä¸€ç»„åè½¬ï¼Œä¸è¶³çš„ä¸åè½¬
- O1å¤æ‚åº¦ï¼Œæ€è·¯åŒä¸Š

![image-20240107173908928](https://erick-typora-image.oss-cn-shanghai.aliyuncs.com/img/image-20240107173908928.png)

```java
public ListNode reverseKGroup(ListNode head, int k) {
    if (head == null || head.next == null) {
        return head;
    }
    ListNode sentinel = new ListNode(-999, head);

    ListNode dummyHead = sentinel;
    ListNode p = sentinel.next;

    int size = hasElements(k, p);
    while (size == k) {
        reverse(size, p, dummyHead); // ç¿»è½¬

        dummyHead = p;
        p = p.next;

        size = hasElements(k, p);
    }
    // å¦‚æœä¸è¶³é•¿åº¦çš„ä¹Ÿè¦ç¿»è½¬
    // reverse(size, p, dummyHead);
    return sentinel.next;
}

/*ä»å¤´åˆ°å°¾ï¼Œä¸€å…±æœ‰å‡ ä¸ªç»“ç‚¹*/
public int hasElements(int k, ListNode p) {
    int size = 0;
    while (p != null) {
        p = p.next;
        size++;
        if (size == k) {
            return k;
        }
    }
    return size;
}

private void reverse(int size, ListNode p, ListNode dummyHead) {
    for (int i = 0; i < size - 1; i++) {
        ListNode moved = p.next;
        p.next = p.next.next;
        moved.next = dummyHead.next;
        dummyHead.next = moved;
    }
}
```



## 4. ç›¸åŠ 

- ä¸¤ä¸ªæŸç§æ ¼å¼çš„æ•°æ®ï¼Œè½¬æ¢æˆä¸¤ä¸ªæ•´æ•°ç›¸åŠ 

### ğŸ˜ [415. å­—ç¬¦ä¸²ç›¸åŠ ](https://leetcode.cn/problems/add-strings/)

#### é€†å‘ + è¡¥0

```java
public String addStrings(String num1, String num2) {
        char[] chs1 = num1.toCharArray();
        char[] chs2 = num2.toCharArray();

        StringBuilder sb = new StringBuilder();
        int p1 = chs1.length - 1;
        int p2 = chs2.length - 1;

        int leftOver = 0;

        while (p1 >= 0 || p2 >= 0) {
            int ch1 = p1 >= 0 ? (chs1[p1]) - '0' : 0; // æ³¨æ„è¿™ä¸ªè½¬æ¢
            int ch2 = p2 >= 0 ? (chs2[p2]) - '0' : 0;
            int sum = ch1 + ch2 + leftOver;
            sb.append(sum % 10);
            leftOver = (ch1 + ch2 + leftOver) / 10;

            p1--;
            p2--;
        }

        if (leftOver == 1) {
            sb.append(1);
        }

        return sb.reverse().toString();
    }
```

### ğŸ˜ [2. ä¸¤æ•°ç›¸åŠ ](https://leetcode.cn/problems/add-two-numbers/)

#### æ­£å‘+è¡¥0

- å°†ä¸¤ä¸ªé“¾è¡¨çœ‹æˆç›¸åŒé•¿åº¦çš„è¿›è¡Œéå†
- å…¶ä¸­ä¸€ä¸ªä¸ºnullæ—¶ï¼Œåˆ™å–å€¼æ—¶ç”¨0ä»£æ›¿
- éå†åˆ°ä¸¤ä¸ªéƒ½ä¸ºnull
- è€ƒè™‘åˆ°æœ€åä¸€ä¸ªçš„è¿›ä½é—®é¢˜

```java
public ListNode addTwoNumbers(ListNode l1, ListNode l2) {
    ListNode result = new ListNode(-999);
    ListNode tail = result;

    int leftOver = 0;
    /*å¦‚æœå…¶ä¸­ä¸€ä¸ªä¸ºnullï¼Œåˆ™ç”¨0æ¥è¡¥å…¨*/
    while (l1 != null || l2 != null) {
        int val1 = (l1 == null ? 0 : l1.val);
        int val2 = (l2 == null ? 0 : l2.val);

        int sum = val1 + val2 + leftOver;
        int val = sum % 10;
        leftOver = sum / 10;
        tail.next = new ListNode(val);

        if (l1 != null) {
            l1 = l1.next;
        }
        if (l2 != null) {
            l2 = l2.next;
        }
        tail = tail.next;
    }

    /*åˆ¤æ–­æœ€åä¸€ä½*/
    if (leftOver == 1) {
        tail.next = new ListNode(1);
    }
    return result.next;
}
```

### ğŸ˜[445. ä¸¤æ•°ç›¸åŠ  II](https://leetcode.cn/problems/add-two-numbers-ii/)

#### åŒæ ˆ + é€†åºéå† + å¤´æ’

- éœ€è¦é€†åºéå†ï¼Œå› æ­¤å¯ä»¥å€ŸåŠ©ä¸¤ä¸ªæ ˆ
- å€ŸåŠ©åï¼Œæ€è·¯åŒä¸Š

```java
public ListNode addTwoNumbers(ListNode l1, ListNode l2) {
    ListNode result = new ListNode(-999);

    LinkedList<ListNode> firstStack = new LinkedList<>();
    LinkedList<ListNode> secondStack = new LinkedList<>();
    while (l1 != null) {
        firstStack.push(l1);
        l1 = l1.next;
    }

    while (l2 != null) {
        secondStack.push(l2);
        l2 = l2.next;
    }

    int leftOver = 0;
    while (!firstStack.isEmpty() || !secondStack.isEmpty()) {
        int val1 = firstStack.isEmpty() ? 0 : firstStack.pop().val;
        int val2 = secondStack.isEmpty() ? 0 : secondStack.pop().val;
        int sum = val1 + val2 + leftOver;
        int val = sum % 10;
        leftOver = sum / 10;

        result.next = new ListNode(val, result.next); // å¤´æ’
    }

    if (leftOver == 1) {
        result.next = new ListNode(1, result.next);
    }
    return result.next;
}
```

### ğŸ˜[2816. ç¿»å€ä»¥é“¾è¡¨å½¢å¼è¡¨ç¤ºçš„æ•°å­—](https://leetcode.cn/problems/double-a-number-represented-as-a-linked-list/)

#### æ ˆ + å¤´æ’

- æ€è·¯åŒä¸Š

```java
public ListNode doubleIt(ListNode head) {
    ListNode result = new ListNode(-999);
    LinkedList<ListNode> stack = new LinkedList<>();

    while (head != null) {
        stack.push(head);
        head = head.next;
    }
    int leftOver = 0;
    while (!stack.isEmpty()) {
        int sum = stack.pop().val * 2 + leftOver;
        int val = sum % 10;
        leftOver = sum / 10;
        result.next = new ListNode(val, result.next);
    }
    if (leftOver == 1) {
        result.next = new ListNode(1, result.next);
    }
    return result.next;
}
```

## 5. åˆå¹¶æ‹†åˆ†

- åˆå¹¶æ‹†åˆ†æ—¶ï¼Œæ³¨æ„é€‚æ—¶çš„æ–­ç¯

### âœ… [88. åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„](https://leetcode.cn/problems/merge-sorted-array/)

#### é€†å‘åŒæŒ‡é’ˆ

```java
public void merge(int[] nums1, int m, int[] nums2, int n) {
    int p1 = m - 1;
    int p2 = n - 1;
    int p = nums1.length - 1;
    while (p1 >= 0 && p2 >= 0) {
        if (nums1[p1] > nums2[p2]) {
            nums1[p] = nums1[p1];
            p1--;
        } else {
            nums1[p] = nums2[p2];
            p2--;
        }
        p--;
    }

    /*åªéœ€è¦å¤„ç†p2*/
    while (p2 >= 0) {
        nums1[p] = nums2[p2];
        p--;
        p2--;
    }
}
```

### âœ…[21. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨](https://leetcode.cn/problems/merge-two-sorted-lists/)

#### é€’å½’

```java
public ListNode mergeTwoLists(ListNode list1, ListNode list2) {

    if (list1 == null) {
        return list2;
    }

    if (list2 == null) {
        return list1;
    }

    if (list1.val < list2.val) {
        list1.next = mergeTwoLists(list1.next, list2);
        return list1;
    } else {
        list2.next = mergeTwoLists(list1, list2.next);
        return list2;
    }
}
```

#### è¿­ä»£

- ç»“ç‚¹ä¸åŠ¨ï¼Œåªæ˜¯åŠ¨æŒ‡é’ˆ
- å¤´æ’

```java
public ListNode mergeTwoLists(ListNode list1, ListNode list2) {
    ListNode sentinel = new ListNode(-999);
    ListNode tail = sentinel;

    while (list1 != null && list2 != null) {
        ListNode cur;
        if (list1.val < list2.val) {
            cur = list1;
            list1 = list1.next;
        } else {
            cur = list2;
            list2 = list2.next;
        }
        cur.next = null;
        tail.next = cur;
        tail = tail.next;
    }

    tail.next = list1 == null ? list2 : list1;
    return sentinel.next;
}
```

### ğŸ›³ [23. åˆå¹¶ K ä¸ªå‡åºé“¾è¡¨](https://leetcode.cn/problems/merge-k-sorted-lists/)

#### å°é¡¶å †

```bash
# æ‰€æœ‰å…ƒç´ åŠ è¿›å»
- å¼¹å‡ºæ¥åï¼Œå¦‚æœæœ‰å¼¹å‡ºç»“ç‚¹æœ‰ä¸‹ä¸€ä¸ªï¼Œåˆ™ç»§ç»­å¡è¿›å»
- å¾ªç¯åˆ°å°é¡¶å †ä¸ºç©º
- ç»´æŠ¤ä¸€ä¸ªsizeå±æ€§ï¼Œå¦‚æœsize==1æ—¶ï¼Œåˆ™ç›´æ¥è¿”å›å³å¯
# ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œä¸èƒ½åŠ ç©ºï¼Œæ³¨æ„å¤„ç†
```

```java
public ListNode mergeKLists(ListNode[] lists) {
    ListNode sentinel = new ListNode(-999);
    ListNode tail = sentinel;
    PriorityQueue<ListNode> minStack = new PriorityQueue<>((a, b) -> (a.val - b.val));
    int size = 0; // è®°å½•å½“å‰å‡ ä¸ªé“¾è¡¨æœ‰æ•ˆ
    for (int i = 0; i < lists.length; i++) {
        if (lists[i] != null) {
            minStack.offer(lists[i]);
            size++;
        }
    }

    while (!minStack.isEmpty()) {
        ListNode poll = minStack.poll();

        if (size == 1) {
            tail.next = poll;
            break;            // åªå‰©ä¸‹ä¸€ä¸ªé“¾è¡¨æ—¶å€™ï¼Œç›´æ¥æ·»åŠ è¿”å›å³å¯
        }

        if (poll.next == null) {
            size--;// æœ‰æ•ˆä¸ªæ•°å‡1
        } else {
            minStack.offer(poll.next);// æŠŠä¸‹ä¸€ä¸ªå…ƒç´ ç»§ç»­å¡è¿›å»
        }

        poll.next = null;
        tail.next = poll;
        tail = tail.next;
    }

    return sentinel.next;
}
```

### ğŸ˜ [1669. åˆå¹¶ä¸¤ä¸ªé“¾è¡¨](https://leetcode.cn/problems/merge-in-between-linked-lists/)

- æ‰¾a-1ç´¢å¼•å’Œbç´¢å¼•çš„å…ƒç´ 

```java
public ListNode mergeInBetween(ListNode list1, int a, int b, ListNode list2) {
    ListNode sentinel = new ListNode(-999, list1);

    /*æ‰¾å‡ºå¤´å°¾ï¼Œå¹¶åˆ é™¤*/
    ListNode aPrev = null;
    ListNode bNode = null;
    int idx = 0;
    while (list1 != null) {
        if (idx == a - 1) {
            aPrev = list1;
        }
        if (idx == b) {
            bNode = list1;
            break;
        }
        list1 = list1.next;
        idx++;
    }

    aPrev.next = null; // åˆ é™¤
    ListNode bNext = bNode.next;
    bNode.next = null;

    /*æ‰¾é“¾è¡¨2çš„å¤´å°¾*/
    ListNode l2Head = list2;
    ListNode l2Tail;
    while (list2.next != null) {
        list2 = list2.next;
    }
    l2Tail = list2;

    /*åˆå¹¶*/
    aPrev.next = l2Head;
    l2Tail.next = bNext;
    return sentinel.next;
}
```

### ğŸ˜ [2181. åˆå¹¶é›¶ä¹‹é—´çš„èŠ‚ç‚¹](https://leetcode.cn/problems/merge-nodes-in-between-zeros/)

- åˆå¹¶0ä¹‹é—´çš„ç»“ç‚¹è¿”å›

```java
public ListNode mergeNodes(ListNode head) {
    ListNode resultSentinel = new ListNode(-999);
    ListNode tail = resultSentinel;

    ListNode p = head.next;
    int sum = 0;

    while (p != null) {
        if (p.val != 0) {
            sum += p.val;
        } else {
            tail.next = new ListNode(sum);
            tail = tail.next;
            sum = 0;
        }
        p = p.next;
    }

    return resultSentinel.next;
}
```



### ğŸ˜ [86. åˆ†éš”é“¾è¡¨](https://leetcode.cn/problems/partition-list/)

- ä¸è¦åˆ›å»ºæ–°çš„é“¾è¡¨ï¼Œåªæ˜¯ç§»åŠ¨æŒ‡é’ˆ

![image-20240106140247504](https://erick-typora-image.oss-cn-shanghai.aliyuncs.com/img/image-20240106140247504.png)

```java
public ListNode partition(ListNode head, int x) {
    ListNode sentinel = new ListNode(-999, head);
    ListNode p = sentinel.next;

    ListNode minSentinel = new ListNode(-999);
    ListNode maxSentinel = new ListNode(-999);
    ListNode minTail = minSentinel;
    ListNode maxTail = maxSentinel;

    while (p != null) {
        ListNode removed = p;
        p = p.next;
        removed.next = null;

        if (removed.val < x) {
            minTail.next = removed;
            minTail = minTail.next;
        } else {
            maxTail.next = removed;
            maxTail = maxTail.next;
        }
    }
    /*åˆå¹¶*/
    minTail.next = maxSentinel.next;
    return minSentinel.next;
}
```

### ğŸ˜ [328. å¥‡å¶é“¾è¡¨](https://leetcode.cn/problems/odd-even-linked-list/)

- æ€è·¯åŒä¸Š

```java
public ListNode oddEvenList(ListNode head) {
    ListNode sentinel = new ListNode(-999, head);
    ListNode p = sentinel.next;

    ListNode firstSentinel = new ListNode(-999);
    ListNode firstTail = firstSentinel;

    ListNode secondSentinel = new ListNode(-999);
    ListNode secondTail = secondSentinel;

    boolean isOdd = true;
    while (p != null) {
        ListNode removed = p;
        p = p.next;
        removed.next = null;

        if (isOdd) {
            firstTail.next = removed;
            firstTail = firstTail.next;
        } else {
            secondTail.next = removed;
            secondTail = secondTail.next;
        }
        isOdd = !isOdd;
    }

    /*åˆå¹¶*/
    firstTail.next = secondSentinel.next;
    return firstSentinel.next;
}
```

### ğŸ˜ [143. é‡æ’é“¾è¡¨](https://leetcode.cn/problems/reorder-list/)

- æ‰¾ä¸­é—´ç»“ç‚¹ + é“¾è¡¨é€†åº + åˆå¹¶
- åŸåœ°åˆå¹¶

![image-20240106180100557](https://erick-typora-image.oss-cn-shanghai.aliyuncs.com/img/image-20240106180100557.png)

```java
public void reorderList(ListNode head) {
    ListNode middleNode = middleNode(head);
    ListNode rightHead = reverse(middleNode.next);
    middleNode.next = null; // å®Œæˆä¸Šé¢æ­¥éª¤
    head = merge(head, rightHead);
}

private ListNode middleNode(ListNode head) {
    ListNode sentinel = new ListNode(-999, head);
    ListNode fast = sentinel;
    ListNode slow = sentinel;
    while (fast != null) {
        slow = slow.next;
        fast = fast.next;
        if (fast != null) {
            fast = fast.next;
        }
    }
    return slow;
}

private ListNode reverse(ListNode head) {
    if (head == null || head.next == null) {
        return head;
    }

    ListNode left = reverse(head.next); // leftä»£è¡¨å¤´æŒ‡é’ˆ
    head.next.next = head; // é€†å‘æŒ‡é’ˆ   1--> 2<--3<--4<--5
    head.next = null; // æ–­ç¯
    return left;
}

/*å…ˆå·¦è¾¹çš„ï¼Œå†å³è¾¹çš„ï¼Œå³è¾¹çš„å…ˆä¸ºnull*/
private ListNode merge(ListNode leftHead, ListNode rightHead) {
    ListNode sentinel = new ListNode(-999);
    ListNode tail = sentinel;
    boolean isLeft = true;
    while (rightHead != null) {
        ListNode moved;
        if (isLeft) {
            moved = leftHead;
            leftHead = leftHead.next;
        } else {
            moved = rightHead;
            rightHead = rightHead.next;
        }
        moved.next = null;
        tail.next = moved;
        tail = tail.next;
        isLeft = !isLeft;
    }

    /*æŠŠå·¦è¾¹å‰©ä¸‹çš„å†åŠ ä¸Š*/
    tail.next = leftHead;
    return sentinel.next;
}
```



## 6. åˆ¤æ–­

### âœ…[141. ç¯å½¢é“¾è¡¨](https://leetcode.cn/problems/linked-list-cycle/)

#### å¿«æ…¢æŒ‡é’ˆ

![image-20240105172852781](https://erick-typora-image.oss-cn-shanghai.aliyuncs.com/img/image-20240105172852781.png)

```java
public boolean hasCycle(ListNode head) {
    ListNode fast = head;
    ListNode slow = head;
    while (fast != null) {
        slow = slow.next;
        fast = fast.next;
        if (fast != null) {
            fast = fast.next;
        }
        if (fast == slow && fast != null) {
            return true;
        }
    }
    return false;
}
```

#### Hash + è¿­ä»£

- æ¯ä¸ªç»“ç‚¹éƒ½å­˜æ”¾åœ¨hashä¸­ï¼Œå¦‚æœå‡ºç°äº†å­˜ä¸è¿›å»æ—¶(3)ï¼Œè¯´æ˜æœ‰ç¯

```java
public boolean hasCycle(ListNode head) {
    Set<ListNode> hash = new HashSet<>();
    while (head != null) {
        boolean result = hash.add(head);
        if (!result) {
            return true;
        }
        head = head.next;
    }
    return false;
}
```

### ğŸ˜[142. ç¯å½¢é“¾è¡¨ II](https://leetcode.cn/problems/linked-list-cycle-ii/)

#### å¿«æ…¢æŒ‡é’ˆ

![image-20240105171257054](https://erick-typora-image.oss-cn-shanghai.aliyuncs.com/img/image-20240105171257054.png)

```java
public ListNode detectCycle(ListNode head) {
    ListNode fast = head;
    ListNode slow = head;

    boolean hasCycle = false;
    while (fast != null) {
        slow = slow.next;
        fast = fast.next;
        if (fast != null) {
            fast = fast.next;
        }
        if (slow == fast && fast != null) { // é‡åˆäº†ï¼Œæœ‰ç¯
            slow = head;
            hasCycle = true;
            break;
        }
    }

    if (hasCycle) {
        while (slow != fast) {
            slow = slow.next;
            fast = fast.next;
        }
        return slow;
    } else {
        return null;
    }
}
```

#### Hash + è¿­ä»£

- ä»å¤´åˆ°å°¾éå†ï¼Œå¦‚æœä¸€æ—¦ä¸€ä¸ªnodeåŠ å…¥ä¸è¿›å»äº†ï¼Œåˆ™è¯´æ˜å°±æ˜¯ç¯çš„å…¥å£

```java
public ListNode detectCycle(ListNode head) {
    ListNode cur = head;
    Set<ListNode> hash = new HashSet<>();

    while (cur != null) {
        boolean result = hash.add(cur);
        if (!result) {
            return cur;
        }
        cur = cur.next;
    }
    return null;
}
```

### âœ…[160. ç›¸äº¤é“¾è¡¨](https://leetcode.cn/problems/intersection-of-two-linked-lists/)

#### ç§’è§£TODO

#### Hash

```java
public ListNode getIntersectionNode(ListNode headA, ListNode headB) {
    Set<ListNode> hash = new HashSet<>();
    while (headA != null) {
        hash.add(headA);
        headA = headA.next;
    }

    while (headB != null) {
        boolean result = hash.add(headB);
        if (!result) {
            return headB;
        }
        headB = headB.next;
    }
    return null;
}
```

### âœ… [234. å›æ–‡é“¾è¡¨](https://leetcode.cn/problems/palindrome-linked-list/)

#### ä¸­é—´èŠ‚ç‚¹ + åæ®µé“¾è¡¨åè½¬ + æ¯”è¾ƒ

- ç¬¬ä¸€æ¬¡è¿­ä»£ï¼šå¿«æ…¢æŒ‡é’ˆï¼šæ‰¾åˆ°ä¸­é—´èŠ‚ç‚¹
- ç¬¬äºŒæ¬¡è¿­ä»£ï¼šé€’å½’åŸåœ°åè½¬é“¾è¡¨
- ç¬¬ä¸‰æ¬¡è¿­ä»£ï¼šä»¥tail-1ä¸ºåŸºå‡†ï¼Œé€æ­¥æ¯”è¾ƒ

![image-20240106110348042](https://erick-typora-image.oss-cn-shanghai.aliyuncs.com/img/image-20240106110348042.png)

```java
public boolean isPalindrome(ListNode head) {
    ListNode middle = middleNode(head);
    ListNode reverse = revere(middle);
    while (reverse != null) {
        if (head.val != reverse.val) {
            return false;
        }
        head = head.next;
        reverse = reverse.next;
    }

    return true;
}

private ListNode middleNode(ListNode head) {
    ListNode fast = head;
    ListNode slow = head;
    while (fast != null && fast.next != null) {
        slow = slow.next;
        fast = fast.next.next;
    }
    return slow;
}

private ListNode revere(ListNode head) {
    if (head == null || head.next == null) {
        return head;
    }
    ListNode leftOver = revere(head.next);
    head.next.next = head;
    head.next = null;
    return leftOver;
}
```

### ğŸ˜[2130. é“¾è¡¨æœ€å¤§å­ªç”Ÿå’Œ](https://leetcode.cn/problems/maximum-twin-sum-of-a-linked-list/)

- å¿«æ…¢æŒ‡é’ˆæ‰¾ä¸­é—´ç»“ç‚¹ï¼ŒååŠæ®µå†’æ³¡é€†åº

```java
public int pairSum(ListNode head) {
    ListNode middle = getMiddle(head);
    ListNode secondHead = reverseList(middle);
    int max = 0;
    while (secondHead != null) {
        max = Math.max(max, head.val + secondHead.val);
        head = head.next;
        secondHead = secondHead.next;
    }
    return max;
}

private ListNode getMiddle(ListNode head) {
    ListNode sentinel = new ListNode(-999, head);
    ListNode fast = sentinel;
    ListNode slow = sentinel;
    while (fast != null) {
        slow = slow.next;
        fast = fast.next;
        if (fast != null) {
            fast = fast.next;
        }
    }
    return slow;
}

private ListNode reverseList(ListNode head) {
    ListNode sentinel = new ListNode(-999, head);
    while (head.next != null) {
        ListNode moved = head.next;
        head.next = head.next.next;
        moved.next = sentinel.next;
        sentinel.next = moved;
    }
    return sentinel.next;
}
```

